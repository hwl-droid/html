{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/eslint-loader/index.js??ref--13-0!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/http.js","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/http.js","mtime":1612802670446},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js","mtime":1607515998082},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/eslint-loader/index.js","mtime":1607516007173}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9zcmMvcm91dGVyIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwp2YXIgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogImh0dHA6Ly8xMTIuNzQuOTkuNTozMDAwL3dlYi9hcGkiCn0pOwpodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAyKSB7CiAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICBWdWUucHJvdG90eXBlLiRtc2cuZmFpbChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGh0dHA7"},{"version":3,"sources":["/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/http.js"],"names":["axios","router","Vue","http","create","baseURL","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","Promise","reject","response","status","push","prototype","$msg","fail","data","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAE;AADe,CAAb,CAAb;AAGAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACE,UAASC,MAAT,EAAiB;AACf,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiCD,YAAY,CAACC,OAAb,CAAqB,IAArB,CAArC,EAAiE;AAC/DF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+B,YAAYH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3C;AACD;;AACD,SAAOF,MAAP;AACD,CANH,EAOE,UAASK,KAAT,EAAgB;AACd,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CATH;AAWAX,IAAI,CAACG,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CACE,UAASS,QAAT,EAAmB;AACjB,SAAOA,QAAP;AACD,CAHH,EAIE,UAASH,KAAT,EAAgB;AACd,MAAIA,KAAK,CAACG,QAAN,CAAeC,MAAf,KAA0B,GAA1B,IAAiCJ,KAAK,CAACG,QAAN,CAAeC,MAAf,KAA0B,GAA/D,EAAoE;AAClEjB,IAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ;AACAjB,IAAAA,GAAG,CAACkB,SAAJ,CAAcC,IAAd,CAAmBC,IAAnB,CAAwBR,KAAK,CAACG,QAAN,CAAeM,IAAf,CAAoBC,OAA5C;AACD;;AACD,SAAOT,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAVH;AAYA,eAAeX,IAAf","sourcesContent":["import axios from \"axios\";\nimport router from \"./src/router\";\nimport Vue from \"vue\";\n\nconst http = axios.create({\n  baseURL: \"http://112.74.99.5:3000/web/api\",\n});\nhttp.interceptors.request.use(\n  function(config) {\n    if (localStorage.getItem(\"token\") && localStorage.getItem(\"id\")) {\n      config.headers.Authorization = \"Bearer \" + localStorage.getItem(\"token\");\n    }\n    return config;\n  },\n  function(error) {\n    return Promise.reject(error);\n  }\n);\nhttp.interceptors.response.use(\n  function(response) {\n    return response;\n  },\n  function(error) {\n    if (error.response.status === 401 || error.response.status === 402) {\n      router.push(\"/login\")\n      Vue.prototype.$msg.fail(error.response.data.message)\n    }\n    return Promise.reject(error);\n  }\n);\nexport default http;\n"]}]}