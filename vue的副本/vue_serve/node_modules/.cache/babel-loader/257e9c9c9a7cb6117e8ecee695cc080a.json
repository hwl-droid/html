{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/edit.vue","mtime":1612802670456},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js","mtime":1607515998082},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js","mtime":1610033579139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvRGVza3RvcC9iaWxpYmlsaS9odG1sL3Z1ZVx1NzY4NFx1NTI2Rlx1NjcyQy92dWVfc2VydmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9tYWMvRGVza3RvcC9iaWxpYmlsaS9odG1sL3Z1ZVx1NzY4NFx1NTI2Rlx1NjcyQy92dWVfc2VydmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdmJhciBmcm9tICIuLi9jb21wb25lbnRzL2NvbW1vbi9OYXZiYXIudnVlIjsKaW1wb3J0IGVkaXRCYW5uZXIgZnJvbSAiLi4vY29tcG9uZW50cy9jb21tb24vZWRpdEJhbm5lciI7CmltcG9ydCB7IERpYWxvZyB9IGZyb20gInZhbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVsOiB7fSwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHRleHRTaG93OiBmYWxzZSwKICAgICAgdGV4dDogIiIKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiBfZGVmaW5lUHJvcGVydHkoewogICAgTmF2YmFyOiBOYXZiYXIsCiAgICBlZGl0QmFubmVyOiBlZGl0QmFubmVyCiAgfSwgRGlhbG9nLkNvbXBvbmVudC5uYW1lLCBEaWFsb2cuQ29tcG9uZW50KSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RVc2VyOiBmdW5jdGlvbiBzZWxlY3RVc2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLmdldCgiL3VzZXIvIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsID0gcmVzLmRhdGFbMF07CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGZvcm1kYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtZGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5wb3N0KCIvdXBsb2FkIiwgZm9ybWRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5tb2RlbC51c2VyX2ltZyA9IHJlcy5kYXRhLnVybDsKCiAgICAgICAgICAgICAgICBfdGhpczIuVXNlclVwRGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBVc2VyVXBEYXRhOiBmdW5jdGlvbiBVc2VyVXBEYXRhKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgiL3VwZGF0ZS8iICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkIiksIF90aGlzMy5tb2RlbCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgQmFubmVyQ2xpY2s6IGZ1bmN0aW9uIEJhbm5lckNsaWNrKGUpIHsKICAgICAgY29uc29sZS5sb2coZS50YXJnZXQuaW5uZXJIVE1MKTsKICAgICAgdGhpcy50ZXh0ID0gdGhpcy5tb2RlbC5uYW1lOwogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgfSwKICAgIFBlcnNvbkNsaWNrOiBmdW5jdGlvbiBQZXJzb25DbGljayhlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LmlubmVySFRNTCk7CiAgICAgIHRoaXMudGV4dCA9IHRoaXMubW9kZWwudXNlcl9kZXNjOwogICAgICB0aGlzLnRleHRTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBjb25maXJtQ2xpY2s6IGZ1bmN0aW9uIGNvbmZpcm1DbGljaygpIHsKICAgICAgdGhpcy5tb2RlbC5uYW1lID0gdGhpcy50ZXh0OwogICAgICB0aGlzLlVzZXJVcERhdGEoKTsKICAgICAgdGhpcy50ZXh0ID0gIiI7CiAgICB9LAogICAgZGVzY0NsaWNrOiBmdW5jdGlvbiBkZXNjQ2xpY2soKSB7CiAgICAgIHRoaXMubW9kZWwudXNlcl9kZXNjID0gdGhpcy50ZXh0OwogICAgICB0aGlzLlVzZXJVcERhdGEoKTsKICAgICAgdGhpcy50ZXh0ID0gIiI7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZWxlY3RVc2VyKCk7CiAgfQp9Ow=="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,MAAA,MAAA,iCAAA;AACA,OAAA,UAAA,MAAA,iCAAA;AACA,SAAA,MAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,UAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,UAAA,EAAA;AAFA,KAGA,MAAA,CAAA,SAAA,CAAA,IAHA,EAGA,MAAA,CAAA,SAHA,CATA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,WAAA,YAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,SALA,qBAKA,IALA,EAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,QADA,GACA,IAAA,QAAA,EADA;AAEA,gBAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;AAFA;AAAA,uBAGA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA,QAAA,CAHA;;AAAA;AAGA,gBAAA,GAHA;AAIA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AACA,gBAAA,MAAA,CAAA,UAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAXA;AAYA,IAAA,UAZA,wBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CACA,aAAA,YAAA,CAAA,OAAA,CAAA,IAAA,CADA,EAEA,MAAA,CAAA,KAFA,CADA;;AAAA;AACA,gBAAA,GADA;AAKA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAlBA;AAmBA,IAAA,WAnBA,uBAmBA,CAnBA,EAmBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAvBA;AAwBA,IAAA,WAxBA,uBAwBA,CAxBA,EAwBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,SAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,YA7BA,0BA6BA;AACA,WAAA,KAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,WAAA,UAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,KAjCA;AAkCA,IAAA,SAlCA,uBAkCA;AACA,WAAA,KAAA,CAAA,SAAA,GAAA,KAAA,IAAA;AACA,WAAA,UAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA;AAtCA,GAdA;AAsDA,EAAA,OAtDA,qBAsDA;AACA,SAAA,UAAA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <div style=\"margin-bottom: 10px\"><navbar /></div>\n    <div class=\"UploaderFile\">\n      <van-uploader\n        preview-size=\"100vw\"\n        class=\"UploaderImg\"\n        :after-read=\"afterRead\"\n      />\n      <edit-banner left=\"头像\">\n        <img :src=\"model.user_img\" alt=\"\" slot=\"right\" v-if=\"model.user_img\" />\n        <img src=\"../assets/github.svg\" alt=\"\" slot=\"right\" v-else />\n      </edit-banner>\n    </div>\n    <edit-banner left=\"昵称\" >\n      <a href=\"javascript:;\" slot=\"right\" @click=\"BannerClick($event)\">{{ model.name }}</a>\n    </edit-banner>\n    <edit-banner left=\"UID\">\n      <a slot=\"right\">{{ model.username }}</a>\n    </edit-banner>\n    <edit-banner left=\"性别\">\n      <a href=\"javascript:;\" slot=\"right\">{{ model.gender }}</a>\n    </edit-banner>\n    <edit-banner left=\"出生日期\">\n      <a href=\"javascript:;\" slot=\"right\">{{ model.name }}</a>\n    </edit-banner>\n    <edit-banner left=\"个性签名\" >\n      <a href=\"javascript:;\" slot=\"right\" @click=\"PersonClick($event)\">{{ model.user_desc }}</a>\n    </edit-banner>\n\n    <van-dialog\n      v-model=\"show\"\n      title=\"昵称\"\n      show-cancel-button\n      @confirm=\"confirmClick\"\n    >\n      <van-field v-model=\"text\" autofocus />\n    </van-dialog>\n\n    <van-dialog\n      v-model=\"textShow\"\n      title=\"个性签名\"\n      show-cancel-button\n      @confirm=\"descClick\"\n    >\n      <van-field v-model=\"text\" autofocus />\n    </van-dialog>\n  </div>\n</template>\n<script>\nimport Navbar from \"../components/common/Navbar.vue\";\nimport editBanner from \"../components/common/editBanner\";\nimport { Dialog } from \"vant\";\nexport default {\n  data() {\n    return {\n      model: {},\n      show: false,\n      textShow: false,\n      text: \"\",\n    };\n  },\n  components: {\n    Navbar,\n    editBanner,\n    [Dialog.Component.name]: Dialog.Component,\n  },\n  methods: {\n    async selectUser() {\n      const res = await this.$http.get(\"/user/\" + localStorage.getItem(\"id\"));\n      this.model = res.data[0];\n    },\n    async afterRead(file) {\n      const formdata = new FormData();\n      formdata.append(\"file\", file.file);\n      const res = await this.$http.post(\"/upload\", formdata);\n      this.model.user_img = res.data.url;\n      this.UserUpData();\n    },\n    async UserUpData() {\n      const res = await this.$http.post(\n        \"/update/\" + localStorage.getItem(\"id\"),\n        this.model\n      );\n      console.log(res);\n    },\n    BannerClick(e){\n      console.log(e.target.innerHTML);\n      this.text = this.model.name\n      this.show = true\n    },\n    PersonClick(e){\n      console.log(e.target.innerHTML);\n      this.text = this.model.user_desc\n      this.textShow = true\n    },\n    confirmClick() {\n      this.model.name = this.text;\n      this.UserUpData();\n      this.text = \"\";\n    },\n    descClick() {\n      this.model.user_desc = this.text;\n      this.UserUpData();\n      this.text = \"\";\n    }\n  },\n  created() {\n    this.selectUser();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.UploaderFile {\n  position: relative;\n  overflow: hidden;\n  img {\n    width: 12.778vw;\n    height: 12.778vw;\n    border-radius: 50%;\n  }\n  .UploaderImg {\n    position: absolute;\n    opacity: 0;\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}