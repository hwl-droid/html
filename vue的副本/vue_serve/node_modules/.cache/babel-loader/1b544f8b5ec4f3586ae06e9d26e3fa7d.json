{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/register.vue","mtime":1612802670457},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js","mtime":1607515998082},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js","mtime":1610033579139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvRGVza3RvcC9iaWxpYmlsaS9odG1sL3Z1ZVx1NzY4NFx1NTI2Rlx1NjcyQy92dWVfc2VydmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbG9naW5Ub3AgZnJvbSAiLi4vY29tcG9uZW50cy9jb21tb24vbG9naW5Ub3AiOwppbXBvcnQgbG9naW5UZXh0IGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL2xvZ2luVGV4dCI7CmltcG9ydCBsb2dpbkJ0biBmcm9tICIuLi9jb21wb25lbnRzL2NvbW1vbi9sb2dpbkJ0biI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIG5hbWVSdWxlOiAvXig/OltcdTRlMDAtXHU5ZmE1wrddezIsMTZ9KSQvLAogICAgICB1c2VybmFtZVJ1bGU6IC9eW2EtekEtWjAtOV8tXXs2LDE2fSQvLAogICAgICBwYXNzd29yZFJ1bGU6IC9eXFMqKD89XFN7Nix9KSg/PVxTKlthLXpdKVxTKiQvCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgbG9naW5Ub3A6IGxvZ2luVG9wLAogICAgbG9naW5UZXh0OiBsb2dpblRleHQsCiAgICBsb2dpbkJ0bjogbG9naW5CdG4KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyU3VibWl0OiBmdW5jdGlvbiByZWdpc3RlclN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5uYW1lUnVsZS50ZXN0KF90aGlzLm1vZGVsLm5hbWUpICYmIF90aGlzLnVzZXJuYW1lUnVsZS50ZXN0KF90aGlzLm1vZGVsLnVzZXJuYW1lKSAmJiBfdGhpcy5wYXNzd29yZFJ1bGUudGVzdChfdGhpcy5tb2RlbC5wYXNzd29yZCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgiL3JlZ2lzdGVyIiwgX3RoaXMubW9kZWwpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzLiRtc2cuZmFpbChyZXMuZGF0YS5tc2cpOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZCIsIHJlcy5kYXRhLmlkKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5kYXRhLm9ianRva2VuKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF90aGlzLiRtc2cuZmFpbCgi5qC85byP5LiN5q2j56GuIik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,QAAA,MAAA,+BAAA;AACA,OAAA,SAAA,MAAA,gCAAA;AACA,OAAA,QAAA,MAAA,+BAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,QAAA,EAAA,8BANA;AAOA,MAAA,YAAA,EAAA,uBAPA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,QAAA,EAAA;AAHA,GAbA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,KACA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CADA,IAEA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAJA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAMA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA,EAAA,KAAA,CAAA,KAAA,CANA;;AAAA;AAMA,gBAAA,GANA;;AAOA,gBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,iBAFA,EAEA,IAFA,CAAA;AAVA;AAAA;;AAAA;AAcA,gBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAjBA;AAlBA,CAAA","sourcesContent":["<template>\n  <div>\n    <login-top middleTop=\"注册bilibili\">\n      <div slot=\"right\" style=\"font-size:3.611vw\" @click=\"$router.push('/login')\">登陆</div>\n    </login-top>\n    <!-- 中文名正则 -->\n    <div style=\"margin: 4.167vw 0\">\n      <login-text\n        label=\"姓名\"\n        placeholder=\"请输入中文姓名\"\n        :rule=\"nameRule\"\n        @inputChange=\"(res) => (model.name = res)\"\n      />\n    </div>\n    <!--正则：用户名校验，4到16位（字母，数字，下划线，减号） -->\n    <login-text\n      label=\"账号\"\n      placeholder=\"请输入6到16位（字母，数字，下划线，减号）\"\n      :rule=\"usernameRule\"\n      @inputChange=\"(res) => (model.username = res)\"\n    />\n    <!-- 正则：最少6位，数字字母组成-->\n    <login-text\n      label=\"密码\"\n      placeholder=\"请输入最少6位，数字字母组成\"\n      type=\"password\"\n      :rule=\"passwordRule\"\n      @inputChange=\"(res) => (model.password = res)\"\n    />\n    <login-btn btnText=\"注册\" @registerSubmit=\"registerSubmit\"> </login-btn>\n  </div>\n</template>\n\n<script>\nimport loginTop from \"../components/common/loginTop\";\nimport loginText from \"../components/common/loginText\";\nimport loginBtn from \"../components/common/loginBtn\";\nexport default {\n  data() {\n    return {\n      model: {\n        name: \"\",\n        username: \"\",\n        password: \"\"\n      },\n      nameRule: /^(?:[\\u4e00-\\u9fa5·]{2,16})$/,\n      usernameRule: /^[a-zA-Z0-9_-]{6,16}$/,\n      passwordRule: /^\\S*(?=\\S{6,})(?=\\S*[a-z])\\S*$/\n    };\n  },\n  components: {\n    loginTop,\n    loginText,\n    loginBtn,\n  },\n  methods: {\n    async registerSubmit() {\n      if (\n        this.nameRule.test(this.model.name) &&\n        this.usernameRule.test(this.model.username) &&\n        this.passwordRule.test(this.model.password)\n      ) {\n        const res = await this.$http.post(\"/register\", this.model);\n        this.$msg.fail(res.data.msg);\n        localStorage.setItem(\"id\", res.data.id);\n        localStorage.setItem(\"token\", res.data.objtoken);\n        setTimeout(() => {\n          this.$router.push('/login')\n        }, 1000);\n      } else {\n        this.$msg.fail(\"格式不正确\");\n      }\n    }\n  }\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/views"}]}