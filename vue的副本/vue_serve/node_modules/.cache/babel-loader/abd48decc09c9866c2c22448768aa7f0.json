{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/login.vue","mtime":1612802670457},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js","mtime":1607515998082},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js","mtime":1610033579139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21hYy9EZXNrdG9wL2JpbGliaWxpL2h0bWwvdnVlXHU3Njg0XHU1MjZGXHU2NzJDL3Z1ZV9zZXJ2ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBsb2dpblRvcCBmcm9tICIuLi9jb21wb25lbnRzL2NvbW1vbi9sb2dpblRvcCI7CmltcG9ydCBsb2dpblRleHQgZnJvbSAiLi4vY29tcG9uZW50cy9jb21tb24vbG9naW5UZXh0IjsKaW1wb3J0IGxvZ2luQnRuIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL2xvZ2luQnRuIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbDogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgbmFtZVJ1bGU6IC9eKD86W1x1NGUwMC1cdTlmYTXCt117MiwxNn0pJC8sCiAgICAgIHVzZXJuYW1lUnVsZTogL15bYS16QS1aMC05Xy1dezYsMTZ9JC8sCiAgICAgIHBhc3N3b3JkUnVsZTogL15cUyooPz1cU3s2LH0pKD89XFMqW2Etel0pXFMqJC8KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBsb2dpblRvcDogbG9naW5Ub3AsCiAgICBsb2dpblRleHQ6IGxvZ2luVGV4dCwKICAgIGxvZ2luQnRuOiBsb2dpbkJ0bgogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXJTdWJtaXQ6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnVzZXJuYW1lUnVsZS50ZXN0KF90aGlzLm1vZGVsLnVzZXJuYW1lKSAmJiBfdGhpcy5wYXNzd29yZFJ1bGUudGVzdChfdGhpcy5tb2RlbC5wYXNzd29yZCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgiL2xvZ2luIiwgX3RoaXMubW9kZWwpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzLiRtc2cuZmFpbChyZXMuZGF0YS5tc2cpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLmNvZGUgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZCIsIHJlcy5kYXRhLmlkKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi91c2VyaW5vZiIpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF90aGlzLiRtc2cuZmFpbCgi5qC85byP5LiN5q2j56GuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,QAAA,MAAA,+BAAA;AACA,OAAA,SAAA,MAAA,gCAAA;AACA,OAAA,QAAA,MAAA,+BAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,QAAA,EAAA,8BALA;AAMA,MAAA,YAAA,EAAA,uBANA;AAOA,MAAA,YAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,QAAA,EAAA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA,KACA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAKA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,KAAA,CAAA,KAAA,CALA;;AAAA;AAKA,gBAAA,GALA;;AAMA,gBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AANA,sBAOA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAPA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAUA,gBAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,iBAFA,EAEA,IAFA,CAAA;AAZA;AAAA;;AAAA;AAgBA,gBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAnBA;AAjBA,CAAA","sourcesContent":["<template>\n  <div>\n    <login-top middleTop=\"登陆bilibili\">\n      <div slot=\"right\" style=\"font-size:3.611vw\" @click=\"$router.push('/register')\">注册</div>\n    </login-top>\n    <!--正则：用户名校验，4到16位（字母，数字，下划线，减号） -->\n    <login-text\n      label=\"账号\"\n      style=\"margin: 4.167vw 0\"\n      placeholder=\"请输入账号\"\n      :rule=\"usernameRule\"\n      @inputChange=\"(res) => (model.username = res)\"\n    />\n    <!-- 正则：最少6位，数字字母组成-->\n    <login-text\n      label=\"密码\"\n      placeholder=\"请输入密码\"\n      type=\"password\"\n      :rule=\"passwordRule\"\n      @inputChange=\"(res) => (model.password = res)\"\n    />\n    <login-btn btnText=\"登陆\" @registerSubmit=\"registerSubmit\"> </login-btn>\n  </div>\n</template>\n\n<script>\nimport loginTop from \"../components/common/loginTop\";\nimport loginText from \"../components/common/loginText\";\nimport loginBtn from \"../components/common/loginBtn\";\nexport default {\n  data() {\n    return {\n      model: {\n        username: \"\",\n        password: \"\"\n      },\n      nameRule: /^(?:[\\u4e00-\\u9fa5·]{2,16})$/,\n      usernameRule: /^[a-zA-Z0-9_-]{6,16}$/,\n      passwordRule: /^\\S*(?=\\S{6,})(?=\\S*[a-z])\\S*$/\n    };\n  },\n  components: {\n    loginTop,\n    loginText,\n    loginBtn,\n  },\n  methods: {\n    async registerSubmit() {\n      if (\n        this.usernameRule.test(this.model.username) &&\n        this.passwordRule.test(this.model.password)\n      ) {\n        const res = await this.$http.post(\"/login\", this.model);\n        this.$msg.fail(res.data.msg);\n        if (res.data.code != 200) {\n          return;\n        }\n        localStorage.setItem(\"id\", res.data.id);\n        localStorage.setItem(\"token\", res.data.token);\n        setTimeout(() => {\n          this.$router.push(\"/userinof\");\n        }, 1000);\n      } else {\n        this.$msg.fail(\"格式不正确\");\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/views"}]}