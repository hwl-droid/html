{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/register.vue","mtime":1612802670457},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/babel-loader/lib/index.js","mtime":1607515998082},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js","mtime":1610033579139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsb2dpblRvcCBmcm9tICIuLi9jb21wb25lbnRzL2NvbW1vbi9sb2dpblRvcCI7CmltcG9ydCBsb2dpblRleHQgZnJvbSAiLi4vY29tcG9uZW50cy9jb21tb24vbG9naW5UZXh0IjsKaW1wb3J0IGxvZ2luQnRuIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL2xvZ2luQnRuIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbDogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgbmFtZVJ1bGU6IC9eKD86W1x1NGUwMC1cdTlmYTXCt117MiwxNn0pJC8sCiAgICAgIHVzZXJuYW1lUnVsZTogL15bYS16QS1aMC05Xy1dezYsMTZ9JC8sCiAgICAgIHBhc3N3b3JkUnVsZTogL15cUyooPz1cU3s2LH0pKD89XFMqW2Etel0pXFMqJC8KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBsb2dpblRvcCwKICAgIGxvZ2luVGV4dCwKICAgIGxvZ2luQnRuLAogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgcmVnaXN0ZXJTdWJtaXQoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLm5hbWVSdWxlLnRlc3QodGhpcy5tb2RlbC5uYW1lKSAmJgogICAgICAgIHRoaXMudXNlcm5hbWVSdWxlLnRlc3QodGhpcy5tb2RlbC51c2VybmFtZSkgJiYKICAgICAgICB0aGlzLnBhc3N3b3JkUnVsZS50ZXN0KHRoaXMubW9kZWwucGFzc3dvcmQpCiAgICAgICkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgiL3JlZ2lzdGVyIiwgdGhpcy5tb2RlbCk7CiAgICAgICAgdGhpcy4kbXNnLmZhaWwocmVzLmRhdGEubXNnKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWQiLCByZXMuZGF0YS5pZCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzLmRhdGEub2JqdG9rZW4pOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbXNnLmZhaWwoIuagvOW8j+S4jeato+ehriIpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <login-top middleTop=\"注册bilibili\">\n      <div slot=\"right\" style=\"font-size:3.611vw\" @click=\"$router.push('/login')\">登陆</div>\n    </login-top>\n    <!-- 中文名正则 -->\n    <div style=\"margin: 4.167vw 0\">\n      <login-text\n        label=\"姓名\"\n        placeholder=\"请输入中文姓名\"\n        :rule=\"nameRule\"\n        @inputChange=\"(res) => (model.name = res)\"\n      />\n    </div>\n    <!--正则：用户名校验，4到16位（字母，数字，下划线，减号） -->\n    <login-text\n      label=\"账号\"\n      placeholder=\"请输入6到16位（字母，数字，下划线，减号）\"\n      :rule=\"usernameRule\"\n      @inputChange=\"(res) => (model.username = res)\"\n    />\n    <!-- 正则：最少6位，数字字母组成-->\n    <login-text\n      label=\"密码\"\n      placeholder=\"请输入最少6位，数字字母组成\"\n      type=\"password\"\n      :rule=\"passwordRule\"\n      @inputChange=\"(res) => (model.password = res)\"\n    />\n    <login-btn btnText=\"注册\" @registerSubmit=\"registerSubmit\"> </login-btn>\n  </div>\n</template>\n\n<script>\nimport loginTop from \"../components/common/loginTop\";\nimport loginText from \"../components/common/loginText\";\nimport loginBtn from \"../components/common/loginBtn\";\nexport default {\n  data() {\n    return {\n      model: {\n        name: \"\",\n        username: \"\",\n        password: \"\"\n      },\n      nameRule: /^(?:[\\u4e00-\\u9fa5·]{2,16})$/,\n      usernameRule: /^[a-zA-Z0-9_-]{6,16}$/,\n      passwordRule: /^\\S*(?=\\S{6,})(?=\\S*[a-z])\\S*$/\n    };\n  },\n  components: {\n    loginTop,\n    loginText,\n    loginBtn,\n  },\n  methods: {\n    async registerSubmit() {\n      if (\n        this.nameRule.test(this.model.name) &&\n        this.usernameRule.test(this.model.username) &&\n        this.passwordRule.test(this.model.password)\n      ) {\n        const res = await this.$http.post(\"/register\", this.model);\n        this.$msg.fail(res.data.msg);\n        localStorage.setItem(\"id\", res.data.id);\n        localStorage.setItem(\"token\", res.data.objtoken);\n        setTimeout(() => {\n          this.$router.push('/login')\n        }, 1000);\n      } else {\n        this.$msg.fail(\"格式不正确\");\n      }\n    }\n  }\n};\n</script>\n\n<style></style>\n"]}]}