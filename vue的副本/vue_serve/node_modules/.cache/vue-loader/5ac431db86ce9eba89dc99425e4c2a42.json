{"remainingRequest":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/edit.vue?vue&type=style&index=0&id=09aaafb8&lang=less&scoped=true&","dependencies":[{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/src/views/edit.vue","mtime":1613796572647},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/css-loader/dist/cjs.js","mtime":1607516009095},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1610033579139},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/postcss-loader/src/index.js","mtime":1607516010077},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/less-loader/dist/cjs.js","mtime":1610426872287},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/cache-loader/dist/cjs.js","mtime":1607515998020},{"path":"/Users/mac/Desktop/bilibili/html/vue的副本/vue_serve/node_modules/vue-loader/lib/index.js","mtime":1610033579139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLlVwbG9hZGVyRmlsZSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgaW1nIHsKICAgIHdpZHRoOiA5LjcyMnZ3OwogICAgaGVpZ2h0OiA5LjcyMnZ3OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogIH0KICAuVXBsb2FkZXJJbWcgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgb3BhY2l0eTogMDsKICB9Cn0KLnJldHVybnsKICBtYXJnaW4tdG9wOiAxMy44ODl2dzsKfQo="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div style=\"margin-bottom: 10px\"><navbar /></div>\n    <div class=\"UploaderFile\">\n      <van-uploader\n        preview-size=\"100vw\"\n        class=\"UploaderImg\"\n        :after-read=\"afterRead\"\n      />\n      <edit-banner left=\"头像\">\n        <img :src=\"model.user_img\" alt=\"\" slot=\"right\" v-if=\"model.user_img\" />\n        <img src=\"../assets/github.svg\" alt=\"\" slot=\"right\" v-else />\n      </edit-banner>\n    </div>\n    <edit-banner left=\"昵称\" >\n      <a href=\"javascript:;\" slot=\"right\" @click=\"BannerClick($event)\">{{ model.name }}</a>\n    </edit-banner>\n    <edit-banner left=\"UID\">\n      <a slot=\"right\">{{ model.username }}</a>\n    </edit-banner>\n    <edit-banner left=\"性别\">\n      <a href=\"javascript:;\" slot=\"right\">{{ model.gender }}</a>\n    </edit-banner>\n    <edit-banner left=\"出生日期\">\n      <a href=\"javascript:;\" slot=\"right\">{{ model.name }}</a>\n    </edit-banner>\n    <edit-banner left=\"个性签名\" >\n      <a href=\"javascript:;\" slot=\"right\" @click=\"PersonClick($event)\">{{ model.user_desc }}</a>\n    </edit-banner>\n    <p @click=\"ret($event)\">\n      <edit-banner class=\"return\" middle='返回空间'>\n      </edit-banner>\n    </p>\n    <van-dialog\n      v-model=\"show\"\n      title=\"昵称\"\n      show-cancel-button\n      @confirm=\"confirmClick\"\n    >\n      <van-field v-model=\"text\" autofocus />\n    </van-dialog>\n\n    <van-dialog\n      v-model=\"textShow\"\n      title=\"个性签名\"\n      show-cancel-button\n      @confirm=\"descClick\"\n    >\n      <van-field v-model=\"text\" autofocus />\n    </van-dialog>\n  </div>\n</template>\n<script>\nimport Navbar from \"../components/common/Navbar.vue\";\nimport editBanner from \"../components/common/editBanner\";\nimport { Dialog } from \"vant\";\nexport default {\n  data() {\n    return {\n      model: {},\n      show: false,\n      textShow: false,\n      text: \"\",\n    };\n  },\n  components: {\n    Navbar,\n    editBanner,\n    [Dialog.Component.name]: Dialog.Component,\n  },\n  methods: {\n    async selectUser() {\n      const res = await this.$http.get(\"/user/\" + localStorage.getItem(\"id\"));\n      this.model = res.data[0];\n    },\n    async afterRead(file) {\n      const formdata = new FormData();\n      formdata.append(\"file\", file.file);\n      const res = await this.$http.post(\"/upload\", formdata);\n      this.model.user_img = res.data.url;\n      this.UserUpData();\n    },\n    async UserUpData() {\n      const res = await this.$http.post(\n        \"/update/\" + localStorage.getItem(\"id\"),\n        this.model\n      );\n      console.log(res);\n    },\n    ret(){\n       this.$router.push(\"/userinof\");\n    },\n    BannerClick(e){\n      console.log(e.target.innerHTML);\n      this.text = this.model.name\n      this.show = true\n    },\n    PersonClick(e){\n      console.log(e.target.innerHTML);\n      this.text = this.model.user_desc\n      this.textShow = true\n    },\n    confirmClick() {\n      this.model.name = this.text;\n      this.UserUpData();\n      this.text = \"\";\n    },\n    descClick() {\n      this.model.user_desc = this.text;\n      this.UserUpData();\n      this.text = \"\";\n    }\n  },\n  created() {\n    this.selectUser();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.UploaderFile {\n  position: relative;\n  overflow: hidden;\n  img {\n    width: 9.722vw;\n    height: 9.722vw;\n    border-radius: 50%;\n  }\n  .UploaderImg {\n    position: absolute;\n    opacity: 0;\n  }\n}\n.return{\n  margin-top: 13.889vw;\n}\n</style>"]}]}